# ZHOUYI

```
   ███████╗  ██╗  ██╗   ██████╗   ██╗   ██╗ ██╗   ██╗ ██╗
   ╚══███╔╝  ██║  ██║  ██╔═══██╗  ██║   ██║ ╚██╗ ██╔╝ ██║
     ███╔╝   ███████║  ██║   ██║  ██║   ██║  ╚████╔╝  ██║
    ███╔╝    ██╔══██║  ██║   ██║  ██║   ██║   ╚██╔╝   ██║
   ███████╗  ██║  ██║  ╚██████╔╝  ╚██████╔╝    ██║    ██║
   ╚══════╝  ╚═╝  ╚═╝   ╚═════╝   ╚═════╝     ╚═╝    ╚═╝

   ☰ 乾  ☱ 兑  ☲ 离  ☳ 震  ☴ 巽  ☵ 坎  ☶ 艮  ☷ 坤
```

基于传统易学规则的周易占卜命令行工具。

## 快速开始

```bash
npm install
npm start
```

## 功能

### 三种起卦方式

| 方法 | 说明 |
|------|------|
| **大衍筮法** | 模拟49根蓍草十八变成卦，概率分布最接近古法 |
| **铜钱法** | 模拟三枚铜钱投掷六次，简便快捷 |
| **梅花易数** | 输入两个数字起卦，适合以数字信息起卦 |

### 完整的装卦分析

- **纳甲** — 按八宫纳甲法为六爻配天干地支
- **六亲** — 根据宫的五行与爻的五行生克关系推导（父母/兄弟/子孙/妻财/官鬼）
- **六神** — 根据日干配青龙/朱雀/勾陈/螣蛇/白虎/玄武
- **世应** — 从六十四卦数据库中查取世爻和应爻位置
- **空亡** — 根据日干支所在旬判定空亡地支
- **日干支自动计算** — 根据当前日期自动推算壬戌日等干支信息，无需手动输入

### 断卦规则

根据变爻数量（0-6个）自动选择解读方式：

| 变爻数 | 规则 |
|--------|------|
| 0 | 以本卦卦辞断 |
| 1 | 以本卦变爻爻辞断 |
| 2 | 以本卦两变爻爻辞断，上爻为主 |
| 3 | 本卦卦辞与之卦卦辞参看，以本卦为主 |
| 4 | 以之卦不变爻爻辞断 |
| 5 | 以之卦不变爻爻辞断 |
| 6 | 乾坤用用九/用六，其余以之卦卦辞断 |

### 六十四卦数据库

- 64卦完整数据，按八宫组织
- 每卦含卦辞、大象传、6条爻辞（原文+白话翻译）
- 二进制编码、Unicode卦符、世应爻位、宫内序号

## 项目结构

```
src/
  types.ts              # 核心类型定义
  core/
    divination.ts       # 起卦算法（大衍/铜钱/梅花）
    analysis.ts         # 装卦分析引擎
    calendar.ts         # 干支历计算
  data/
    trigrams.ts         # 八卦数据与纳甲表
    hexagrams.ts        # 六十四卦汇总与索引
    palace-*.ts         # 八宫卦数据（乾坤坎离震巽艮兑）
  cli/
    main.ts             # 命令行交互界面
  test-quick.ts         # 功能验证脚本
research/               # 调研文档（理论/方法/解读/设计讨论）
```

## 免责声明

**本软件仅供学术研究、传统文化学习和个人兴趣探索之用。**

- 本系统的占卜结果基于传统易学规则的程序化实现，不具备任何预测未来的能力
- 占卜结果**不构成**任何医疗、法律、财务、投资或其他专业建议
- 请**勿**将占卜结果作为重要人生决策的依据
- 任何因使用本软件产生的后果，开发者不承担任何责任
- 传统易学是中国古代哲学思想的重要组成部分，本项目旨在以现代技术手段保存和展示这一文化遗产

> 「善易者不占。」 ——《荀子·大略》
>
> 真正理解《易经》的人知道，它的价值在于其哲学智慧，而非占卜预测。

## License

[MIT](LICENSE)
